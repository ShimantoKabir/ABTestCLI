(()=>{"use strict";var t={72:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.selectors=void 0,e.selectors={listSelector:"ul.category-product-list",observerTargetNode:"section.swatch-container>div"}},814:(t,e)=>{var o;Object.defineProperty(e,"__esModule",{value:!0}),e.TestInfo=void 0,(o=e.TestInfo||(e.TestInfo={})).ID="BB004",o.SITE="baliblinds",o.CLIENT="brainlab",o.VARIATION="1"},127:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MainComponent=void 0;var i=o(951),n=o(454),r=o(72),s=o(814),l=o(509);e.MainComponent=function(){var t=this;this.poller=new n.Poller,this.targetClassName="category-product-list",this.init=function(){t.addRadioButton(),t.poller.poll([r.selectors.observerTargetNode],(function(){new l.SwatchObserver(r.selectors.observerTargetNode).observe((function(e,o){for(var i=0,n=e;i<n.length;i++){var r=n[i];"childList"===r.type&&r.target.classList.contains(t.targetClassName)&&t.addRadioButton()}}))}))},this.addRadioButton=function(){document.querySelectorAll(r.selectors.listSelector+">li").forEach((function(t,e){var o=document.querySelector("ul.category-product-list>li:nth-child(".concat(e,")>a")),i=null==o?void 0:o.getAttribute("href");console.log("href=",i);var n=document.querySelector("ul.category-product-list>li:nth-child(".concat(e,")>input"));null==n||n.addEventListener("click",(function(){i&&(window.location.href=i)})),t.classList.contains("active")?t.insertAdjacentHTML("afterbegin",'<input type="radio" checked>'):t.insertAdjacentHTML("afterbegin",'<input type="radio"  >')}))},i.Initializer.init(s.TestInfo,"0.0.1")}},509:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SwatchObserver=void 0;e.SwatchObserver=function(t){var e=this;this.targetNode=null,this.config={},this.observe=function(t){new MutationObserver(t).observe(e.targetNode,e.config)},this.targetNode=document.querySelector(t),this.config={attributes:!0,childList:!0,subtree:!0}}},951:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Initializer=void 0;var o=function(){function t(){}return t.init=function(t,e){document.documentElement.classList.add(t.ID),document.documentElement.classList.add("".concat(t.ID,"-").concat(t.VARIATION)),console.info("ID: ".concat(t.ID,", VARIATION: ").concat(t.VARIATION,", VERSION: ").concat(e," is running.....!"))},t}();e.Initializer=o},454:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Poller=void 0;var i=o(704);e.Poller=function(){var t=this;this.options=null,this.timeout=null,this.successfulConditions=[],this.callback=function(){},this.conditionsLength=0,this.poll=function(e,o,n){t.callback=o,t.options=new i.UserOptions,t.conditionsLength=e.length,n&&(t.options=n),t.timeout=t.options.timeout?new Date(t.getNow()+t.options.timeout).getTime():null;for(var r=0;r<e.length;r++)t.pollForCondition(e[r],t.options.wait,!0,t.options.multiplier)},this.getNow=function(){return(new Date).getTime()},this.isTimeOut=function(){return!!(t.timeout&&t.getNow()>t.timeout)},this.evaluateCondition=function(t){return!!t&&("function"==typeof t?t():!("string"!=typeof t||!document.querySelector(t)))},this.isAllConditionPassed=function(){return t.conditionsLength===t.successfulConditions.length},this.pollForCondition=function(e,o,i,n){if(t.timeout&&t.isTimeOut())return!1;var r=t.evaluateCondition(e);return r?(t.successfulConditions.push(r),t.isAllConditionPassed()&&t.callback(t.successfulConditions)):setTimeout((function(){t.pollForCondition(e,o*n,i,n)}),i?0:o),!0}}},704:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.UserOptions=void 0;e.UserOptions=function(){this.wait=50,this.multiplier=1.1,this.timeout=0}}},e={};function o(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,o),r.exports}(()=>{var t=o(454),e=o(72),i=o(127);if(!/MSIE|Trident|Edge\/(12|13|14|15|16|17|18)/.test(window.navigator.userAgent)){var n=new i.MainComponent;(new t.Poller).poll(["body",e.selectors.listSelector],n.init)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxFQUFPRCxPQUNmLEMsTUN0QkEsYUFDQSxRQUNBLFNBTUEsSUFKaUIsNENBQTRDRyxLQUMzRHBELE9BQU9xRCxVQUFVQyxXQUdKLENBQ2IsSUFBTUMsRUFBTyxJQUFJLEVBQUFwRixlQUNGLElBQUksRUFBQUUsUUFDWkksS0FBSyxDQUFDLE9BQVEsRUFBQVYsVUFBVUMsY0FBZXVGLEVBQUtoRixLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvY2xpZW50cy9icmFpbmxhYi9iYWxpYmxpbmRzL0JCMDA0L2NvbW1vbi9hc3NldC50cyIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS8uL3NyYy9jbGllbnRzL2JyYWlubGFiL2JhbGlibGluZHMvQkIwMDQvY29tbW9uL3Rlc3QuaW5mby50cyIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS8uL3NyYy9jbGllbnRzL2JyYWlubGFiL2JhbGlibGluZHMvQkIwMDQvY29tcG9uZW50cy9tYWluLmNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS8uL3NyYy9jbGllbnRzL2JyYWlubGFiL2JhbGlibGluZHMvQkIwMDQvb2JzZXJ2ZXIvc3dhdGNoLm9ic2VydmVyLnRzIiwid2VicGFjazovL2FiLXRlc3QtdHMtY2xpLy4vc3JjL3V0aWxpdGllcy9pbml0aWFsaXplci50cyIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS8uL3NyYy91dGlsaXRpZXMvcG9sbGVyLnRzIiwid2VicGFjazovL2FiLXRlc3QtdHMtY2xpLy4vc3JjL3V0aWxpdGllcy91c2VyLm9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvY2xpZW50cy9icmFpbmxhYi9iYWxpYmxpbmRzL0JCMDA0L2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgbGlzdFNlbGVjdG9yOiBcInVsLmNhdGVnb3J5LXByb2R1Y3QtbGlzdFwiLFxyXG4gIG9ic2VydmVyVGFyZ2V0Tm9kZTogXCJzZWN0aW9uLnN3YXRjaC1jb250YWluZXI+ZGl2XCIsXHJcbn07XHJcbiIsImV4cG9ydCBlbnVtIFRlc3RJbmZvIHtJRCA9ICdCQjAwNCcsIFNJVEUgPSAnYmFsaWJsaW5kcycsIENMSUVOVCA9ICdicmFpbmxhYicsIFZBUklBVElPTiA9ICcxJ30iLCJpbXBvcnQgeyBJbml0aWFsaXplciB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi91dGlsaXRpZXMvaW5pdGlhbGl6ZXJcIjtcclxuaW1wb3J0IHsgUG9sbGVyIH0gZnJvbSBcIi4uLy4uLy4uLy4uLy4uL3V0aWxpdGllcy9wb2xsZXJcIjtcclxuaW1wb3J0IHsgc2VsZWN0b3JzIH0gZnJvbSBcIi4uL2NvbW1vbi9hc3NldFwiO1xyXG5pbXBvcnQgeyBUZXN0SW5mbyB9IGZyb20gXCIuLi9jb21tb24vdGVzdC5pbmZvXCI7XHJcbmltcG9ydCB7IFN3YXRjaE9ic2VydmVyIH0gZnJvbSBcIi4uL29ic2VydmVyL3N3YXRjaC5vYnNlcnZlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5Db21wb25lbnQge1xyXG4gIHByaXZhdGUgcG9sbGVyID0gbmV3IFBvbGxlcigpO1xyXG4gIHByaXZhdGUgdGFyZ2V0Q2xhc3NOYW1lOiBzdHJpbmcgPSBcImNhdGVnb3J5LXByb2R1Y3QtbGlzdFwiO1xyXG5cclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIEluaXRpYWxpemVyLmluaXQoVGVzdEluZm8sIFwiMC4wLjFcIik7XHJcbiAgfVxyXG5cclxuICBpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5hZGRSYWRpb0J1dHRvbigpO1xyXG5cclxuICAgIHRoaXMucG9sbGVyLnBvbGwoW3NlbGVjdG9ycy5vYnNlcnZlclRhcmdldE5vZGVdLCAoKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcnRPYnNlcnZlciA9IG5ldyBTd2F0Y2hPYnNlcnZlcihzZWxlY3RvcnMub2JzZXJ2ZXJUYXJnZXROb2RlKTtcclxuICAgICAgY29uc3QgY2FsbGJhY2sgPSAobXV0YXRpb25MaXN0OiBhbnksIG9ic2VydmVyOiBhbnkpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uTGlzdCkge1xyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICBtdXRhdGlvbi50eXBlID09PSBcImNoaWxkTGlzdFwiICYmXHJcbiAgICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy50YXJnZXRDbGFzc05hbWUpXHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRSYWRpb0J1dHRvbigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgY2FydE9ic2VydmVyLm9ic2VydmUoY2FsbGJhY2spO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgYWRkUmFkaW9CdXR0b24gPSAoKSA9PiB7XHJcbiAgICBjb25zdCBsaXN0RWxtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8RWxlbWVudD4oXHJcbiAgICAgIHNlbGVjdG9ycy5saXN0U2VsZWN0b3IgKyBcIj5saVwiXHJcbiAgICApO1xyXG5cclxuICAgIGxpc3RFbG1zLmZvckVhY2goKGxpOiBFbGVtZW50LCBpbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIGB1bC5jYXRlZ29yeS1wcm9kdWN0LWxpc3Q+bGk6bnRoLWNoaWxkKCR7aW5kZXh9KT5hYFxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBocmVmID0gbGluaz8uZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcclxuICAgICAgY29uc29sZS5sb2coXCJocmVmPVwiLCBocmVmKTtcclxuICAgICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIGB1bC5jYXRlZ29yeS1wcm9kdWN0LWxpc3Q+bGk6bnRoLWNoaWxkKCR7aW5kZXh9KT5pbnB1dGBcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGlucHV0Py5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGlmIChocmVmKSB7XHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChsaS5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmVcIikpIHtcclxuICAgICAgICBsaS5pbnNlcnRBZGphY2VudEhUTUwoXCJhZnRlcmJlZ2luXCIsIGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgY2hlY2tlZD5gKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsaS5pbnNlcnRBZGphY2VudEhUTUwoXCJhZnRlcmJlZ2luXCIsIGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgID5gKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgU3dhdGNoT2JzZXJ2ZXIge1xyXG4gIHByaXZhdGUgdGFyZ2V0Tm9kZTogRWxlbWVudCB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgY29uZmlnID0ge307XHJcblxyXG4gIGNvbnN0cnVjdG9yKHRhcmdldE5vZGU6IHN0cmluZykge1xyXG4gICAgdGhpcy50YXJnZXROb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXROb2RlKTtcclxuICAgIHRoaXMuY29uZmlnID0geyBhdHRyaWJ1dGVzOiB0cnVlLCBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfTtcclxuICB9XHJcblxyXG4gIG9ic2VydmUgPSAoY2FsbEJhY2s6IE11dGF0aW9uQ2FsbGJhY2spID0+IHtcclxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbEJhY2spO1xyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnRhcmdldE5vZGUgYXMgRWxlbWVudCwgdGhpcy5jb25maWcpO1xyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEluaXRpYWxpemVyIHtcclxuICBzdGF0aWMgaW5pdCA9IChcclxuICAgIHRlc3RJbmZvOiB7XHJcbiAgICAgIElEOiBzdHJpbmc7XHJcbiAgICAgIFNJVEU6IHN0cmluZztcclxuICAgICAgQ0xJRU5UOiBzdHJpbmc7XHJcbiAgICAgIFZBUklBVElPTjogc3RyaW5nO1xyXG4gICAgfSxcclxuICAgIHZlcnNpb246IHN0cmluZ1xyXG4gICk6IHZvaWQgPT4ge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGVzdEluZm8uSUQpO1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXHJcbiAgICAgIGAke3Rlc3RJbmZvLklEfS0ke3Rlc3RJbmZvLlZBUklBVElPTn1gXHJcbiAgICApO1xyXG4gICAgY29uc29sZS5pbmZvKFxyXG4gICAgICBgSUQ6ICR7dGVzdEluZm8uSUR9LCBWQVJJQVRJT046ICR7dGVzdEluZm8uVkFSSUFUSU9OfSwgVkVSU0lPTjogJHt2ZXJzaW9ufSBpcyBydW5uaW5nLi4uLi4hYFxyXG4gICAgKTtcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IFVzZXJPcHRpb25zIH0gZnJvbSBcIi4vdXNlci5vcHRpb25zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9sbGVyIHtcclxuICBwcml2YXRlIG9wdGlvbnM6IFVzZXJPcHRpb25zIHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSB0aW1lb3V0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIHN1Y2Nlc3NmdWxDb25kaXRpb25zOiBib29sZWFuW10gPSBbXTtcclxuICBwcml2YXRlIGNhbGxiYWNrOiBGdW5jdGlvbiA9ICgpID0+IHt9O1xyXG4gIHByaXZhdGUgY29uZGl0aW9uc0xlbmd0aDogbnVtYmVyID0gMDtcclxuXHJcbiAgcG9sbCA9IChcclxuICAgIGNvbmRpdGlvbnM6IChGdW5jdGlvbiB8IHN0cmluZylbXSxcclxuICAgIGNhbGxiYWNrOiBGdW5jdGlvbixcclxuICAgIHVzZXJPcHRpb25zPzogVXNlck9wdGlvbnNcclxuICApID0+IHtcclxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIHRoaXMub3B0aW9ucyA9IG5ldyBVc2VyT3B0aW9ucygpO1xyXG4gICAgdGhpcy5jb25kaXRpb25zTGVuZ3RoID0gY29uZGl0aW9ucy5sZW5ndGg7XHJcblxyXG4gICAgaWYgKHVzZXJPcHRpb25zKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucyA9IHVzZXJPcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudGltZW91dCA9IHRoaXMub3B0aW9ucy50aW1lb3V0XHJcbiAgICAgID8gbmV3IERhdGUodGhpcy5nZXROb3coKSArIHRoaXMub3B0aW9ucy50aW1lb3V0KS5nZXRUaW1lKClcclxuICAgICAgOiBudWxsO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZGl0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0aGlzLnBvbGxGb3JDb25kaXRpb24oXHJcbiAgICAgICAgY29uZGl0aW9uc1tpXSxcclxuICAgICAgICB0aGlzLm9wdGlvbnMud2FpdCxcclxuICAgICAgICB0cnVlLFxyXG4gICAgICAgIHRoaXMub3B0aW9ucy5tdWx0aXBsaWVyXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZ2V0Tm93ID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgfTtcclxuXHJcbiAgaXNUaW1lT3V0ID0gKCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgaWYgKHRoaXMudGltZW91dCAmJiB0aGlzLmdldE5vdygpID4gdGhpcy50aW1lb3V0KSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIGV2YWx1YXRlQ29uZGl0aW9uID0gKGNvbmRpdGlvbjogRnVuY3Rpb24gfCBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGNvbmRpdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgIHJldHVybiBjb25kaXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGNvbmRpdGlvbiA9PT0gXCJzdHJpbmdcIiAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmRpdGlvbikpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIGlzQWxsQ29uZGl0aW9uUGFzc2VkID0gKCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uc0xlbmd0aCA9PT0gdGhpcy5zdWNjZXNzZnVsQ29uZGl0aW9ucy5sZW5ndGg7XHJcbiAgfTtcclxuXHJcbiAgcG9sbEZvckNvbmRpdGlvbiA9IChcclxuICAgIGNvbmRpdGlvbjogRnVuY3Rpb24gfCBzdHJpbmcsXHJcbiAgICB3YWl0VGltZTogbnVtYmVyLFxyXG4gICAgc2tpcFdhaXQ6IGJvb2xlYW4sXHJcbiAgICBtdWx0aXBsaWVyOiBudW1iZXJcclxuICApOiBib29sZWFuID0+IHtcclxuICAgIGlmICh0aGlzLnRpbWVvdXQgJiYgdGhpcy5pc1RpbWVPdXQoKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5ldmFsdWF0ZUNvbmRpdGlvbihjb25kaXRpb24pO1xyXG5cclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgdGhpcy5zdWNjZXNzZnVsQ29uZGl0aW9ucy5wdXNoKHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5pc0FsbENvbmRpdGlvblBhc3NlZCgpKSB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLnN1Y2Nlc3NmdWxDb25kaXRpb25zKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0VGltZW91dChcclxuICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBvbGxGb3JDb25kaXRpb24oXHJcbiAgICAgICAgICAgIGNvbmRpdGlvbixcclxuICAgICAgICAgICAgd2FpdFRpbWUgKiBtdWx0aXBsaWVyLFxyXG4gICAgICAgICAgICBza2lwV2FpdCxcclxuICAgICAgICAgICAgbXVsdGlwbGllclxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNraXBXYWl0ID8gMCA6IHdhaXRUaW1lXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgVXNlck9wdGlvbnMge1xyXG4gIHdhaXQ6IG51bWJlciA9IDUwO1xyXG4gIG11bHRpcGxpZXI6IG51bWJlciA9IDEuMTtcclxuICB0aW1lb3V0OiBudW1iZXIgPSAwO1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQgeyBQb2xsZXIgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbGl0aWVzL3BvbGxlclwiO1xyXG5pbXBvcnQgeyBzZWxlY3RvcnMgfSBmcm9tIFwiLi9jb21tb24vYXNzZXRcIjtcclxuaW1wb3J0IHsgTWFpbkNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvbWFpbi5jb21wb25lbnRcIjtcclxuXHJcbmNvbnN0IGllQ2hlY2tzID0gL01TSUV8VHJpZGVudHxFZGdlXFwvKDEyfDEzfDE0fDE1fDE2fDE3fDE4KS8udGVzdChcclxuICB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudFxyXG4pO1xyXG5cclxuaWYgKCFpZUNoZWNrcykge1xyXG4gIGNvbnN0IG1haW4gPSBuZXcgTWFpbkNvbXBvbmVudCgpO1xyXG4gIGNvbnN0IHBvbGxlciA9IG5ldyBQb2xsZXIoKTtcclxuICBwb2xsZXIucG9sbChbXCJib2R5XCIsIHNlbGVjdG9ycy5saXN0U2VsZWN0b3JdLCBtYWluLmluaXQpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJzZWxlY3RvcnMiLCJsaXN0U2VsZWN0b3IiLCJvYnNlcnZlclRhcmdldE5vZGUiLCJUZXN0SW5mbyIsIk1haW5Db21wb25lbnQiLCJwb2xsZXIiLCJQb2xsZXIiLCJ0YXJnZXRDbGFzc05hbWUiLCJpbml0IiwiYWRkUmFkaW9CdXR0b24iLCJwb2xsIiwiU3dhdGNoT2JzZXJ2ZXIiLCJvYnNlcnZlIiwibXV0YXRpb25MaXN0Iiwib2JzZXJ2ZXIiLCJtdXRhdGlvbiIsInR5cGUiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJsaSIsImluZGV4IiwibGluayIsInF1ZXJ5U2VsZWN0b3IiLCJocmVmIiwiZ2V0QXR0cmlidXRlIiwiY29uc29sZSIsImxvZyIsImlucHV0IiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvdyIsImxvY2F0aW9uIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiSW5pdGlhbGl6ZXIiLCJ0YXJnZXROb2RlIiwiY29uZmlnIiwiY2FsbEJhY2siLCJNdXRhdGlvbk9ic2VydmVyIiwidGhpcyIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwidGVzdEluZm8iLCJ2ZXJzaW9uIiwiZG9jdW1lbnRFbGVtZW50IiwiYWRkIiwiSUQiLCJWQVJJQVRJT04iLCJpbmZvIiwib3B0aW9ucyIsInRpbWVvdXQiLCJzdWNjZXNzZnVsQ29uZGl0aW9ucyIsImNhbGxiYWNrIiwiY29uZGl0aW9uc0xlbmd0aCIsImNvbmRpdGlvbnMiLCJ1c2VyT3B0aW9ucyIsIlVzZXJPcHRpb25zIiwibGVuZ3RoIiwiRGF0ZSIsImdldE5vdyIsImdldFRpbWUiLCJpIiwicG9sbEZvckNvbmRpdGlvbiIsIndhaXQiLCJtdWx0aXBsaWVyIiwiaXNUaW1lT3V0IiwiZXZhbHVhdGVDb25kaXRpb24iLCJjb25kaXRpb24iLCJpc0FsbENvbmRpdGlvblBhc3NlZCIsIndhaXRUaW1lIiwic2tpcFdhaXQiLCJyZXN1bHQiLCJwdXNoIiwic2V0VGltZW91dCIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1haW4iXSwic291cmNlUm9vdCI6IiJ9