(()=>{"use strict";var e={2:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.pageData=t.mobileMaxWidth=t.modalStatusKey=t.selectors=void 0,t.selectors={modalCloseButton:"div.added-to-cart-modal button.cci-shopping-modal-close",modal:"div.added-to-cart-modal",shoppingPageContainer:"div#shopping-page-container",addDevice:"div.add-device>button",yourDevice:"div.your-device>button",addDeviceDirect:"div.add-device-tile a",yourDeviceDirect:"ul.mobile-menu-list>li:nth-child(6)>a",shoppingBar:"span.shopping-bars"},t.modalStatusKey="mobile-add-device-model-open",t.mobileMaxWidth=720,t.pageData={shoppingPage:{targetClassName:"plan-summary-component",modalAddADeviceMboxName:"modal-add-a-device",modalBringYourDeviceMboxName:"modal-bring-your-device",preReviewOrderTargetClassName:"main-content",preReviewOrderSiblingClassName:"input-component-frame",postReviewOrderId:"save-cart-zip-code",postReviewOrderAttribute:"data-previous-value",selector:"div.review-order-button>a.btn-shop",mboxName:"review-order",pathName:"/shopping"},configurePage:{targetClassName:"accessory-grid-wrapper",siblingClassName:"no-results",selector:"div.button-tray>button.config-add-to-cart",mboxName:"configure-add-to-cart",pathName:"/configure"},overviewPage:{targetClassName:"device-details",siblingClassName:"reserve-device-modal",selector:"div.device-details>div.hide-phone-up>button",mboxName:"overview-add-to-cart",pathName:"/overview"}}},744:(e,t)=>{var a;Object.defineProperty(t,"__esModule",{value:!0}),t.TestInfo=void 0,(a=t.TestInfo||(t.TestInfo={})).ID="CC006",a.SITE="consumercellular",a.TITLE="6.9M.2 - “Add a device” vs. “Bring your own device” modal on mobile",a.CLIENT="brainlab",a.TARGET="https://www.consumercellular.com/shopping/choose/plan",a.VARIATION="control"},653:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MainComponent=void 0;var i=a(951),o=a(2),n=a(744),s=a(76),r=a(430);t.MainComponent=function(){var e=this;this.isReviewOrderEventAdded=!1,this.trackEvent=function(e){console.log("mboxName=",e),adobe.target.trackEvent({mbox:e})},this.addListener=function(t){var a=document.querySelector(t.selector);a&&a.addEventListener("touchstart",(function(){var i=a.getAttribute("disabled"),n=a.classList.contains("disabled");(t.pathName!==o.pageData.shoppingPage.pathName||i)&&(n||t.pathName!==o.pageData.overviewPage.pathName)&&(n||t.pathName!==o.pageData.configurePage.pathName)||e.trackEvent(t.mboxName)}))},this.init=function(){new s.TestObserver(o.selectors.shoppingPageContainer).observe((function(t){e.isReviewOrderEventAdded=!1;for(var a=0;a<t.length;a++){var i=t[a],s=i.target,d=i.previousSibling;if(s&&s.classList&&s.classList.contains(o.pageData.shoppingPage.targetClassName)&&"true"===localStorage.getItem(o.modalStatusKey)&&window.innerWidth<o.mobileMaxWidth&&window.location.pathname===o.pageData.shoppingPage.pathName&&"1"===n.TestInfo.VARIATION.toString()){(new r.ModalComponent).render();break}if(s&&s.classList&&s.classList.contains(o.pageData.shoppingPage.preReviewOrderTargetClassName)&&d&&d.classList&&d.classList.contains(o.pageData.shoppingPage.preReviewOrderSiblingClassName)){e.isReviewOrderEventAdded||(e.addListener(o.pageData.shoppingPage),e.isReviewOrderEventAdded=!0);break}if(s&&s.id&&s.id===o.pageData.shoppingPage.postReviewOrderId&&i.attributeName&&i.attributeName===o.pageData.shoppingPage.postReviewOrderAttribute){e.isReviewOrderEventAdded||(e.addListener(o.pageData.shoppingPage),e.isReviewOrderEventAdded=!0);break}s&&s.classList&&s.classList.contains(o.pageData.overviewPage.targetClassName)&&d&&d.classList&&d.classList.contains(o.pageData.overviewPage.siblingClassName)&&"/shopping/details/sim/details"!==window.location.pathname&&e.addListener(o.pageData.overviewPage),s&&s.classList&&s.classList.contains(o.pageData.configurePage.targetClassName)&&d&&d.classList&&d.classList.contains(o.pageData.configurePage.siblingClassName)&&-1!==window.location.pathname.indexOf("configure")&&e.addListener(o.pageData.configurePage)}}))},i.Initializer.init(n.TestInfo,"0.0.15"),localStorage.setItem(o.modalStatusKey,"true")}},430:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ModalComponent=void 0;var i=a(2);t.ModalComponent=function(){var e=this;this.getHtml=function(){return'\n            <div class="added-to-cart-modal" style="z-index: 19002">\n                <div class="cci-modal-mask" style="">\n                    <div class="cci-modal-scroll-wrapper">\n                        <div class="cci-modal-wrapper">\n                            <div class="cci-modal-container">\n                                <button type="button" aria-label="Close" class="cci-shopping-modal-close btn btn-link"></button>\n                                <div class="cci-modal-header">\n                                    <h3></h3>\n                                </div>\n                                <div class="cci-modal-body">\n                                    <span aria-label="Check mark indicates selection has been made."\n                                        class="fa fa-check-circle white-bg circle-icon green"></span>\n                                    <span class="modal-title">Successfully Added To Cart</span>\n                                    <div class="row add-device">\n                                        <button href="/shopping/choose/device" class="btn btn-default next-step-button btn-shop">Add A Device</button>\n                                    </div>\n                                    <div class="row your-device">\n                                        <button href="/shopping/details/sim">Bring Your Own device</button>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        '.trim()},this.render=function(){var t=document.querySelector("body");if(t){t.insertAdjacentHTML("beforeend",e.getHtml()),localStorage.removeItem(i.modalStatusKey);var a=document.querySelector(i.selectors.modalCloseButton),o=document.querySelector(i.selectors.modal),n=document.querySelector(i.selectors.addDevice),s=document.querySelector(i.selectors.yourDevice),r=document.querySelector(i.selectors.addDeviceDirect),d=document.querySelector(i.selectors.yourDeviceDirect),c=document.querySelector(i.selectors.shoppingBar);a&&o&&n&&s&&r&&d&&c&&(a.addEventListener("click",(function(){o.remove()})),n.addEventListener("click",(function(){console.log("add-a-device-mbox-name=",i.pageData.shoppingPage.modalAddADeviceMboxName),adobe.target.trackEvent({mbox:i.pageData.shoppingPage.modalAddADeviceMboxName}),o.remove(),r.click()})),s.addEventListener("click",(function(){console.log("bring-your-device-mbox-name=",i.pageData.shoppingPage.modalBringYourDeviceMboxName),adobe.target.trackEvent({mbox:i.pageData.shoppingPage.modalBringYourDeviceMboxName}),o.remove(),d.click(),c.click()})))}}}},76:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TestObserver=void 0;t.TestObserver=function(e){var t=this;this.targetNode=null,this.config={},this.observe=function(e){new MutationObserver(e).observe(t.targetNode,t.config)},this.targetNode=document.querySelector(e),this.config={attributes:!0,childList:!0,subtree:!0,characterData:!0}}},951:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Initializer=void 0;var a=function(){function e(){}return e.init=function(e,t){document.documentElement.classList.add(e.ID),document.documentElement.classList.add("".concat(e.ID,"-").concat(e.VARIATION)),console.info("ID: ".concat(e.ID,", VARIATION: ").concat(e.VARIATION,", VERSION: ").concat(t," is running.....!"))},e}();t.Initializer=a},454:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Poller=void 0;var i=a(704);t.Poller=function(){var e=this;this.options=null,this.timeout=null,this.successfulConditions=[],this.callback=function(){},this.conditionsLength=0,this.poll=function(t,a,o){e.callback=a,e.options=new i.UserOptions,e.conditionsLength=t.length,o&&(e.options=o),e.timeout=e.options.timeout?new Date(e.getNow()+e.options.timeout).getTime():null;for(var n=0;n<t.length;n++)e.pollForCondition(t[n],e.options.wait,!0,e.options.multiplier)},this.getNow=function(){return(new Date).getTime()},this.isTimeOut=function(){return!!(e.timeout&&e.getNow()>e.timeout)},this.evaluateCondition=function(e){return!!e&&("function"==typeof e?e():!("string"!=typeof e||!document.querySelector(e)))},this.isAllConditionPassed=function(){return e.conditionsLength===e.successfulConditions.length},this.pollForCondition=function(t,a,i,o){if(e.timeout&&e.isTimeOut())return!1;var n=e.evaluateCondition(t);return n?(e.successfulConditions.push(n),e.isAllConditionPassed()&&e.callback(e.successfulConditions)):setTimeout((function(){e.pollForCondition(t,a*o,i,o)}),i?0:a),!0}}},704:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserOptions=void 0;t.UserOptions=function(){this.wait=50,this.multiplier=1.1,this.timeout=0}}},t={};function a(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,a),n.exports}(()=>{var e=a(454),t=a(653);if(!/MSIE|Trident|Edge\/(12|13|14|15|16|17|18)/.test(window.navigator.userAgent)){var i=new t.MainComponent;(new e.Poller).poll(["body"],i.init)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNyQixPQUFPLEVBQUtmLG1CQUFxQixFQUFLRixxQkFBcUIzQyxNQUM3RCxFQUVBLEtBQUFzRCxpQkFBbUIsU0FDakJLLEVBQ0FFLEVBQ0FDLEVBQ0FOLEdBRUEsR0FBSSxFQUFLZCxTQUFXLEVBQUtlLFlBQ3ZCLE9BQU8sRUFHVCxJQUFNTSxFQUFTLEVBQUtMLGtCQUFrQkMsR0FzQnRDLE9BcEJJSSxHQUNGLEVBQUtwQixxQkFBcUJxQixLQUFLRCxHQUUzQixFQUFLSCx3QkFDUCxFQUFLaEIsU0FBUyxFQUFLRCx1QkFHckJzQixZQUNFLFdBQ0UsRUFBS1gsaUJBQ0hLLEVBQ0FFLEVBQVdMLEVBQ1hNLEVBQ0FOLEVBRUosR0FDQU0sRUFBVyxFQUFJRCxJQUlaLENBQ1QsQ0FDRixDLG9GQ3JHYSxFQUFBWixZQUFiLFdBQ0UsS0FBQU0sS0FBZSxHQUNmLEtBQUFDLFdBQXFCLElBQ3JCLEtBQUFkLFFBQWtCLENBQ3BCLEMsR0NISXdCLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsT0FDZixDLE1DdEJBLGFBQ0EsU0FNQSxJQUppQiw0Q0FBNENHLEtBQzNEckUsT0FBT3NFLFVBQVVDLFdBR0osQ0FDYixJQUFNQyxFQUFPLElBQUksRUFBQXJHLGVBQ0YsSUFBSSxFQUFBZ0UsUUFDWk0sS0FBSyxDQUFDLFFBQVMrQixFQUFLbEYsSyIsInNvdXJjZXMiOlsid2VicGFjazovL2FiLXRlc3QtdHMtY2xpLy4vc3JjL2NsaWVudHMvYnJhaW5sYWIvY29uc3VtZXJjZWxsdWxhci9DQzAwNi9jb21tb24vYXNzZXQudHMiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvY2xpZW50cy9icmFpbmxhYi9jb25zdW1lcmNlbGx1bGFyL0NDMDA2L2NvbW1vbi90ZXN0LmluZm8udHMiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvY2xpZW50cy9icmFpbmxhYi9jb25zdW1lcmNlbGx1bGFyL0NDMDA2L2NvbXBvbmVudHMvbWFpbi5jb21wb25lbnQudHMiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvY2xpZW50cy9icmFpbmxhYi9jb25zdW1lcmNlbGx1bGFyL0NDMDA2L2NvbXBvbmVudHMvbW9kYWwuY29tcG9uZW50LnRzIiwid2VicGFjazovL2FiLXRlc3QtdHMtY2xpLy4vc3JjL2NsaWVudHMvYnJhaW5sYWIvY29uc3VtZXJjZWxsdWxhci9DQzAwNi9vYnNlcnZlci90ZXN0Lm9ic2VydmVyLnRzIiwid2VicGFjazovL2FiLXRlc3QtdHMtY2xpLy4vc3JjL3V0aWxpdGllcy9pbml0aWFsaXplci50cyIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS8uL3NyYy91dGlsaXRpZXMvcG9sbGVyLnRzIiwid2VicGFjazovL2FiLXRlc3QtdHMtY2xpLy4vc3JjL3V0aWxpdGllcy91c2VyLm9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvY2xpZW50cy9icmFpbmxhYi9jb25zdW1lcmNlbGx1bGFyL0NDMDA2L2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzZWxlY3RvcnMgPSB7XHJcbiAgbW9kYWxDbG9zZUJ1dHRvbjogXCJkaXYuYWRkZWQtdG8tY2FydC1tb2RhbCBidXR0b24uY2NpLXNob3BwaW5nLW1vZGFsLWNsb3NlXCIsXHJcbiAgbW9kYWw6IFwiZGl2LmFkZGVkLXRvLWNhcnQtbW9kYWxcIixcclxuICBzaG9wcGluZ1BhZ2VDb250YWluZXI6IFwiZGl2I3Nob3BwaW5nLXBhZ2UtY29udGFpbmVyXCIsXHJcbiAgYWRkRGV2aWNlOiBcImRpdi5hZGQtZGV2aWNlPmJ1dHRvblwiLFxyXG4gIHlvdXJEZXZpY2U6IFwiZGl2LnlvdXItZGV2aWNlPmJ1dHRvblwiLFxyXG4gIGFkZERldmljZURpcmVjdDogXCJkaXYuYWRkLWRldmljZS10aWxlIGFcIixcclxuICB5b3VyRGV2aWNlRGlyZWN0OiBcInVsLm1vYmlsZS1tZW51LWxpc3Q+bGk6bnRoLWNoaWxkKDYpPmFcIixcclxuICBzaG9wcGluZ0JhcjogXCJzcGFuLnNob3BwaW5nLWJhcnNcIixcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBtb2RhbFN0YXR1c0tleTogc3RyaW5nID0gXCJtb2JpbGUtYWRkLWRldmljZS1tb2RlbC1vcGVuXCI7XHJcbmV4cG9ydCBjb25zdCBtb2JpbGVNYXhXaWR0aDogbnVtYmVyID0gNzIwO1xyXG5cclxuZXhwb3J0IGNvbnN0IHBhZ2VEYXRhID0ge1xyXG4gIHNob3BwaW5nUGFnZToge1xyXG4gICAgdGFyZ2V0Q2xhc3NOYW1lOiBcInBsYW4tc3VtbWFyeS1jb21wb25lbnRcIixcclxuICAgIG1vZGFsQWRkQURldmljZU1ib3hOYW1lOiBcIm1vZGFsLWFkZC1hLWRldmljZVwiLFxyXG4gICAgbW9kYWxCcmluZ1lvdXJEZXZpY2VNYm94TmFtZTogXCJtb2RhbC1icmluZy15b3VyLWRldmljZVwiLFxyXG4gICAgcHJlUmV2aWV3T3JkZXJUYXJnZXRDbGFzc05hbWU6IFwibWFpbi1jb250ZW50XCIsXHJcbiAgICBwcmVSZXZpZXdPcmRlclNpYmxpbmdDbGFzc05hbWU6IFwiaW5wdXQtY29tcG9uZW50LWZyYW1lXCIsXHJcbiAgICBwb3N0UmV2aWV3T3JkZXJJZDogXCJzYXZlLWNhcnQtemlwLWNvZGVcIixcclxuICAgIHBvc3RSZXZpZXdPcmRlckF0dHJpYnV0ZTogXCJkYXRhLXByZXZpb3VzLXZhbHVlXCIsXHJcbiAgICBzZWxlY3RvcjogXCJkaXYucmV2aWV3LW9yZGVyLWJ1dHRvbj5hLmJ0bi1zaG9wXCIsXHJcbiAgICBtYm94TmFtZTogXCJyZXZpZXctb3JkZXJcIixcclxuICAgIHBhdGhOYW1lOiBcIi9zaG9wcGluZ1wiLFxyXG4gIH0sXHJcbiAgY29uZmlndXJlUGFnZToge1xyXG4gICAgdGFyZ2V0Q2xhc3NOYW1lOiBcImFjY2Vzc29yeS1ncmlkLXdyYXBwZXJcIixcclxuICAgIHNpYmxpbmdDbGFzc05hbWU6IFwibm8tcmVzdWx0c1wiLFxyXG4gICAgc2VsZWN0b3I6IFwiZGl2LmJ1dHRvbi10cmF5PmJ1dHRvbi5jb25maWctYWRkLXRvLWNhcnRcIixcclxuICAgIG1ib3hOYW1lOiBcImNvbmZpZ3VyZS1hZGQtdG8tY2FydFwiLFxyXG4gICAgcGF0aE5hbWU6IFwiL2NvbmZpZ3VyZVwiLFxyXG4gIH0sXHJcbiAgb3ZlcnZpZXdQYWdlOiB7XHJcbiAgICB0YXJnZXRDbGFzc05hbWU6IFwiZGV2aWNlLWRldGFpbHNcIixcclxuICAgIHNpYmxpbmdDbGFzc05hbWU6IFwicmVzZXJ2ZS1kZXZpY2UtbW9kYWxcIixcclxuICAgIHNlbGVjdG9yOiBcImRpdi5kZXZpY2UtZGV0YWlscz5kaXYuaGlkZS1waG9uZS11cD5idXR0b25cIixcclxuICAgIG1ib3hOYW1lOiBcIm92ZXJ2aWV3LWFkZC10by1jYXJ0XCIsXHJcbiAgICBwYXRoTmFtZTogXCIvb3ZlcnZpZXdcIixcclxuICB9LFxyXG59O1xyXG4iLCJleHBvcnQgZW51bSBUZXN0SW5mbyB7SUQgPSAnQ0MwMDYnLCBTSVRFID0gJ2NvbnN1bWVyY2VsbHVsYXInLCBUSVRMRSA9ICc2LjlNLjIgLSDigJxBZGQgYSBkZXZpY2XigJ0gdnMuIOKAnEJyaW5nIHlvdXIgb3duIGRldmljZeKAnSBtb2RhbCBvbiBtb2JpbGUnLCBDTElFTlQgPSAnYnJhaW5sYWInLCBUQVJHRVQgPSAnaHR0cHM6Ly93d3cuY29uc3VtZXJjZWxsdWxhci5jb20vc2hvcHBpbmcvY2hvb3NlL3BsYW4nLCBWQVJJQVRJT04gPSAnY29udHJvbCd9IiwiaW1wb3J0IHsgSW5pdGlhbGl6ZXIgfSBmcm9tIFwiLi4vLi4vLi4vLi4vLi4vdXRpbGl0aWVzL2luaXRpYWxpemVyXCI7XHJcbmltcG9ydCB7XHJcbiAgbW9iaWxlTWF4V2lkdGgsXHJcbiAgbW9kYWxTdGF0dXNLZXksXHJcbiAgcGFnZURhdGEsXHJcbiAgc2VsZWN0b3JzLFxyXG59IGZyb20gXCIuLi9jb21tb24vYXNzZXRcIjtcclxuaW1wb3J0IHsgVGVzdEluZm8gfSBmcm9tIFwiLi4vY29tbW9uL3Rlc3QuaW5mb1wiO1xyXG5pbXBvcnQgeyBUZXN0T2JzZXJ2ZXIgfSBmcm9tIFwiLi4vb2JzZXJ2ZXIvdGVzdC5vYnNlcnZlclwiO1xyXG5pbXBvcnQgeyBNb2RhbENvbXBvbmVudCB9IGZyb20gXCIuL21vZGFsLmNvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5Db21wb25lbnQge1xyXG4gIGlzUmV2aWV3T3JkZXJFdmVudEFkZGVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgSW5pdGlhbGl6ZXIuaW5pdChUZXN0SW5mbywgXCIwLjAuMTVcIik7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShtb2RhbFN0YXR1c0tleSwgXCJ0cnVlXCIpO1xyXG4gIH1cclxuXHJcbiAgdHJhY2tFdmVudCA9IChtYm94TmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIm1ib3hOYW1lPVwiLCBtYm94TmFtZSk7XHJcbiAgICAvLyBAdHMtaWdub3JlXHJcbiAgICBhZG9iZS50YXJnZXQudHJhY2tFdmVudCh7XHJcbiAgICAgIG1ib3g6IG1ib3hOYW1lLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgYWRkTGlzdGVuZXIgPSAocGFnZTogYW55KSA9PiB7XHJcbiAgICBjb25zdCBjdGE6IG51bGwgfCBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihwYWdlLnNlbGVjdG9yKTtcclxuXHJcbiAgICBpZiAoIWN0YSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY3RhLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsICgpID0+IHtcclxuICAgICAgY29uc3QgZGlzYWJsZWRBdHRyaWJ1dGU6IG51bGwgfCBzdHJpbmcgPSBjdGEuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XHJcbiAgICAgIGNvbnN0IGlzQ29udGFpbkRpc2FibGVkQ2xhc3MgPSBjdGEuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZGlzYWJsZWRcIik7XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgcGFnZS5wYXRoTmFtZSA9PT0gcGFnZURhdGEuc2hvcHBpbmdQYWdlLnBhdGhOYW1lICYmXHJcbiAgICAgICAgIWRpc2FibGVkQXR0cmlidXRlXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMudHJhY2tFdmVudChwYWdlLm1ib3hOYW1lKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChcclxuICAgICAgICAhaXNDb250YWluRGlzYWJsZWRDbGFzcyAmJlxyXG4gICAgICAgIHBhZ2UucGF0aE5hbWUgPT09IHBhZ2VEYXRhLm92ZXJ2aWV3UGFnZS5wYXRoTmFtZVxyXG4gICAgICApIHtcclxuICAgICAgICB0aGlzLnRyYWNrRXZlbnQocGFnZS5tYm94TmFtZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIWlzQ29udGFpbkRpc2FibGVkQ2xhc3MgJiZcclxuICAgICAgICBwYWdlLnBhdGhOYW1lID09PSBwYWdlRGF0YS5jb25maWd1cmVQYWdlLnBhdGhOYW1lXHJcbiAgICAgICkge1xyXG4gICAgICAgIHRoaXMudHJhY2tFdmVudChwYWdlLm1ib3hOYW1lKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGluaXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBjb25zdCB0ZXN0T2JzZXJ2ZXIgPSBuZXcgVGVzdE9ic2VydmVyKHNlbGVjdG9ycy5zaG9wcGluZ1BhZ2VDb250YWluZXIpO1xyXG5cclxuICAgIGNvbnN0IGNhbGxiYWNrID0gKG11dGF0aW9uTGlzdDogTXV0YXRpb25SZWNvcmRbXSkgPT4ge1xyXG4gICAgICB0aGlzLmlzUmV2aWV3T3JkZXJFdmVudEFkZGVkID0gZmFsc2U7XHJcblxyXG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgbXV0YXRpb25MaXN0Lmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgIGNvbnN0IG11dGF0aW9uUmVjb3JkOiBNdXRhdGlvblJlY29yZCA9IG11dGF0aW9uTGlzdFtpbmRleF07XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IG11dGF0aW9uUmVjb3JkLnRhcmdldCBhcyBFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IHByZXZpb3VzU2libGluZzogRWxlbWVudCA9XHJcbiAgICAgICAgICBtdXRhdGlvblJlY29yZC5wcmV2aW91c1NpYmxpbmcgYXMgRWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdGFyZ2V0ICYmXHJcbiAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0ICYmXHJcbiAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHBhZ2VEYXRhLnNob3BwaW5nUGFnZS50YXJnZXRDbGFzc05hbWUpICYmXHJcbiAgICAgICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShtb2RhbFN0YXR1c0tleSkgPT09IFwidHJ1ZVwiICYmXHJcbiAgICAgICAgICB3aW5kb3cuaW5uZXJXaWR0aCA8IG1vYmlsZU1heFdpZHRoICYmXHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09IHBhZ2VEYXRhLnNob3BwaW5nUGFnZS5wYXRoTmFtZVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgaWYgKFRlc3RJbmZvLlZBUklBVElPTi50b1N0cmluZygpID09PSBcIjFcIikge1xyXG4gICAgICAgICAgICBjb25zdCBtb2RhbENvbXBvbmVudCA9IG5ldyBNb2RhbENvbXBvbmVudCgpO1xyXG4gICAgICAgICAgICBtb2RhbENvbXBvbmVudC5yZW5kZXIoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICB0YXJnZXQgJiZcclxuICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QgJiZcclxuICAgICAgICAgIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXHJcbiAgICAgICAgICAgIHBhZ2VEYXRhLnNob3BwaW5nUGFnZS5wcmVSZXZpZXdPcmRlclRhcmdldENsYXNzTmFtZVxyXG4gICAgICAgICAgKSAmJlxyXG4gICAgICAgICAgcHJldmlvdXNTaWJsaW5nICYmXHJcbiAgICAgICAgICBwcmV2aW91c1NpYmxpbmcuY2xhc3NMaXN0ICYmXHJcbiAgICAgICAgICBwcmV2aW91c1NpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKFxyXG4gICAgICAgICAgICBwYWdlRGF0YS5zaG9wcGluZ1BhZ2UucHJlUmV2aWV3T3JkZXJTaWJsaW5nQ2xhc3NOYW1lXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBpZiAoIXRoaXMuaXNSZXZpZXdPcmRlckV2ZW50QWRkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcihwYWdlRGF0YS5zaG9wcGluZ1BhZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLmlzUmV2aWV3T3JkZXJFdmVudEFkZGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdGFyZ2V0ICYmXHJcbiAgICAgICAgICB0YXJnZXQuaWQgJiZcclxuICAgICAgICAgIHRhcmdldC5pZCA9PT0gcGFnZURhdGEuc2hvcHBpbmdQYWdlLnBvc3RSZXZpZXdPcmRlcklkICYmXHJcbiAgICAgICAgICBtdXRhdGlvblJlY29yZC5hdHRyaWJ1dGVOYW1lICYmXHJcbiAgICAgICAgICBtdXRhdGlvblJlY29yZC5hdHRyaWJ1dGVOYW1lID09PVxyXG4gICAgICAgICAgICBwYWdlRGF0YS5zaG9wcGluZ1BhZ2UucG9zdFJldmlld09yZGVyQXR0cmlidXRlXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICBpZiAoIXRoaXMuaXNSZXZpZXdPcmRlckV2ZW50QWRkZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcihwYWdlRGF0YS5zaG9wcGluZ1BhZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLmlzUmV2aWV3T3JkZXJFdmVudEFkZGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdGFyZ2V0ICYmXHJcbiAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0ICYmXHJcbiAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHBhZ2VEYXRhLm92ZXJ2aWV3UGFnZS50YXJnZXRDbGFzc05hbWUpICYmXHJcbiAgICAgICAgICBwcmV2aW91c1NpYmxpbmcgJiZcclxuICAgICAgICAgIHByZXZpb3VzU2libGluZy5jbGFzc0xpc3QgJiZcclxuICAgICAgICAgIHByZXZpb3VzU2libGluZy5jbGFzc0xpc3QuY29udGFpbnMoXHJcbiAgICAgICAgICAgIHBhZ2VEYXRhLm92ZXJ2aWV3UGFnZS5zaWJsaW5nQ2xhc3NOYW1lXHJcbiAgICAgICAgICApICYmXHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09IFwiL3Nob3BwaW5nL2RldGFpbHMvc2ltL2RldGFpbHNcIlxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcihwYWdlRGF0YS5vdmVydmlld1BhZ2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgdGFyZ2V0ICYmXHJcbiAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0ICYmXHJcbiAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHBhZ2VEYXRhLmNvbmZpZ3VyZVBhZ2UudGFyZ2V0Q2xhc3NOYW1lKSAmJlxyXG4gICAgICAgICAgcHJldmlvdXNTaWJsaW5nICYmXHJcbiAgICAgICAgICBwcmV2aW91c1NpYmxpbmcuY2xhc3NMaXN0ICYmXHJcbiAgICAgICAgICBwcmV2aW91c1NpYmxpbmcuY2xhc3NMaXN0LmNvbnRhaW5zKFxyXG4gICAgICAgICAgICBwYWdlRGF0YS5jb25maWd1cmVQYWdlLnNpYmxpbmdDbGFzc05hbWVcclxuICAgICAgICAgICkgJiZcclxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKFwiY29uZmlndXJlXCIpICE9PSAtMVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgdGhpcy5hZGRMaXN0ZW5lcihwYWdlRGF0YS5jb25maWd1cmVQYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdGVzdE9ic2VydmVyLm9ic2VydmUoY2FsbGJhY2spO1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgbW9kYWxTdGF0dXNLZXksIHBhZ2VEYXRhLCBzZWxlY3RvcnMgfSBmcm9tIFwiLi4vY29tbW9uL2Fzc2V0XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTW9kYWxDb21wb25lbnQge1xyXG4gIGdldEh0bWwgPSAoKTogc3RyaW5nID0+IHtcclxuICAgIGNvbnN0IGh0bWxTdHJpbmc6IHN0cmluZyA9IGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFkZGVkLXRvLWNhcnQtbW9kYWxcIiBzdHlsZT1cInotaW5kZXg6IDE5MDAyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2NpLW1vZGFsLW1hc2tcIiBzdHlsZT1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjY2ktbW9kYWwtc2Nyb2xsLXdyYXBwZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNjaS1tb2RhbC13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2NpLW1vZGFsLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGFyaWEtbGFiZWw9XCJDbG9zZVwiIGNsYXNzPVwiY2NpLXNob3BwaW5nLW1vZGFsLWNsb3NlIGJ0biBidG4tbGlua1wiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjY2ktbW9kYWwtaGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMz48L2gzPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjY2ktbW9kYWwtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBhcmlhLWxhYmVsPVwiQ2hlY2sgbWFyayBpbmRpY2F0ZXMgc2VsZWN0aW9uIGhhcyBiZWVuIG1hZGUuXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmEgZmEtY2hlY2stY2lyY2xlIHdoaXRlLWJnIGNpcmNsZS1pY29uIGdyZWVuXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+U3VjY2Vzc2Z1bGx5IEFkZGVkIFRvIENhcnQ8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgYWRkLWRldmljZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBocmVmPVwiL3Nob3BwaW5nL2Nob29zZS9kZXZpY2VcIiBjbGFzcz1cImJ0biBidG4tZGVmYXVsdCBuZXh0LXN0ZXAtYnV0dG9uIGJ0bi1zaG9wXCI+QWRkIEEgRGV2aWNlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHlvdXItZGV2aWNlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGhyZWY9XCIvc2hvcHBpbmcvZGV0YWlscy9zaW1cIj5CcmluZyBZb3VyIE93biBkZXZpY2U8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICByZXR1cm4gaHRtbFN0cmluZy50cmltKCk7XHJcbiAgfTtcclxuXHJcbiAgcmVuZGVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYm9keTogbnVsbCB8IEhUTUxCb2R5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG5cclxuICAgIGlmICghYm9keSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIiwgdGhpcy5nZXRIdG1sKCkpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0obW9kYWxTdGF0dXNLZXkpO1xyXG5cclxuICAgIGNvbnN0IG1vZGFsQ2xvc2VCdXR0b246IG51bGwgfCBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHNlbGVjdG9ycy5tb2RhbENsb3NlQnV0dG9uXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IG1vZGFsOiBudWxsIHwgSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBzZWxlY3RvcnMubW9kYWxcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgYWRkRGV2aWNlOiBudWxsIHwgSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBzZWxlY3RvcnMuYWRkRGV2aWNlXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IHlvdXJEZXZpY2U6IG51bGwgfCBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHNlbGVjdG9ycy55b3VyRGV2aWNlXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IGFkZERldmljZURpcmVjdDogbnVsbCB8IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgc2VsZWN0b3JzLmFkZERldmljZURpcmVjdFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCB5b3VyRGV2aWNlRGlyZWN0OiBudWxsIHwgSFRNTEFuY2hvckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBzZWxlY3RvcnMueW91ckRldmljZURpcmVjdFxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBzaG9wcGluZ0JhcjogbnVsbCB8IEhUTUxBbmNob3JFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgc2VsZWN0b3JzLnNob3BwaW5nQmFyXHJcbiAgICApO1xyXG5cclxuICAgIGlmIChcclxuICAgICAgbW9kYWxDbG9zZUJ1dHRvbiAmJlxyXG4gICAgICBtb2RhbCAmJlxyXG4gICAgICBhZGREZXZpY2UgJiZcclxuICAgICAgeW91ckRldmljZSAmJlxyXG4gICAgICBhZGREZXZpY2VEaXJlY3QgJiZcclxuICAgICAgeW91ckRldmljZURpcmVjdCAmJlxyXG4gICAgICBzaG9wcGluZ0JhclxyXG4gICAgKSB7XHJcbiAgICAgIG1vZGFsQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBtb2RhbC5yZW1vdmUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBhZGREZXZpY2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIFwiYWRkLWEtZGV2aWNlLW1ib3gtbmFtZT1cIixcclxuICAgICAgICAgIHBhZ2VEYXRhLnNob3BwaW5nUGFnZS5tb2RhbEFkZEFEZXZpY2VNYm94TmFtZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGFkb2JlLnRhcmdldC50cmFja0V2ZW50KHtcclxuICAgICAgICAgIG1ib3g6IHBhZ2VEYXRhLnNob3BwaW5nUGFnZS5tb2RhbEFkZEFEZXZpY2VNYm94TmFtZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbW9kYWwucmVtb3ZlKCk7XHJcbiAgICAgICAgYWRkRGV2aWNlRGlyZWN0LmNsaWNrKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgeW91ckRldmljZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgXCJicmluZy15b3VyLWRldmljZS1tYm94LW5hbWU9XCIsXHJcbiAgICAgICAgICBwYWdlRGF0YS5zaG9wcGluZ1BhZ2UubW9kYWxCcmluZ1lvdXJEZXZpY2VNYm94TmFtZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIGFkb2JlLnRhcmdldC50cmFja0V2ZW50KHtcclxuICAgICAgICAgIG1ib3g6IHBhZ2VEYXRhLnNob3BwaW5nUGFnZS5tb2RhbEJyaW5nWW91ckRldmljZU1ib3hOYW1lLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtb2RhbC5yZW1vdmUoKTtcclxuICAgICAgICB5b3VyRGV2aWNlRGlyZWN0LmNsaWNrKCk7XHJcbiAgICAgICAgc2hvcHBpbmdCYXIuY2xpY2soKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgVGVzdE9ic2VydmVyIHtcclxuICBwcml2YXRlIHRhcmdldE5vZGU6IEVsZW1lbnQgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIGNvbmZpZyA9IHt9O1xyXG5cclxuICBjb25zdHJ1Y3Rvcih0YXJnZXROb2RlOiBzdHJpbmcpIHtcclxuICAgIHRoaXMudGFyZ2V0Tm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0Tm9kZSk7XHJcbiAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgYXR0cmlidXRlczogdHJ1ZSxcclxuICAgICAgY2hpbGRMaXN0OiB0cnVlLFxyXG4gICAgICBzdWJ0cmVlOiB0cnVlLFxyXG4gICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIG9ic2VydmUgPSAoY2FsbEJhY2s6IE11dGF0aW9uQ2FsbGJhY2spID0+IHtcclxuICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoY2FsbEJhY2spO1xyXG4gICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLnRhcmdldE5vZGUgYXMgRWxlbWVudCwgdGhpcy5jb25maWcpO1xyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEluaXRpYWxpemVyIHtcclxuICBzdGF0aWMgaW5pdCA9IChcclxuICAgIHRlc3RJbmZvOiB7XHJcbiAgICAgIElEOiBzdHJpbmc7XHJcbiAgICAgIFNJVEU6IHN0cmluZztcclxuICAgICAgQ0xJRU5UOiBzdHJpbmc7XHJcbiAgICAgIFZBUklBVElPTjogc3RyaW5nO1xyXG4gICAgfSxcclxuICAgIHZlcnNpb246IHN0cmluZ1xyXG4gICk6IHZvaWQgPT4ge1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGVzdEluZm8uSUQpO1xyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXHJcbiAgICAgIGAke3Rlc3RJbmZvLklEfS0ke3Rlc3RJbmZvLlZBUklBVElPTn1gXHJcbiAgICApO1xyXG4gICAgY29uc29sZS5pbmZvKFxyXG4gICAgICBgSUQ6ICR7dGVzdEluZm8uSUR9LCBWQVJJQVRJT046ICR7dGVzdEluZm8uVkFSSUFUSU9OfSwgVkVSU0lPTjogJHt2ZXJzaW9ufSBpcyBydW5uaW5nLi4uLi4hYFxyXG4gICAgKTtcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IFVzZXJPcHRpb25zIH0gZnJvbSBcIi4vdXNlci5vcHRpb25zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9sbGVyIHtcclxuICBwcml2YXRlIG9wdGlvbnM6IFVzZXJPcHRpb25zIHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSB0aW1lb3V0OiBudW1iZXIgfCBudWxsID0gbnVsbDtcclxuICBwcml2YXRlIHN1Y2Nlc3NmdWxDb25kaXRpb25zOiBib29sZWFuW10gPSBbXTtcclxuICBwcml2YXRlIGNhbGxiYWNrOiBGdW5jdGlvbiA9ICgpID0+IHt9O1xyXG4gIHByaXZhdGUgY29uZGl0aW9uc0xlbmd0aDogbnVtYmVyID0gMDtcclxuXHJcbiAgcG9sbCA9IChcclxuICAgIGNvbmRpdGlvbnM6IChGdW5jdGlvbiB8IHN0cmluZylbXSxcclxuICAgIGNhbGxiYWNrOiBGdW5jdGlvbixcclxuICAgIHVzZXJPcHRpb25zPzogVXNlck9wdGlvbnNcclxuICApID0+IHtcclxuICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIHRoaXMub3B0aW9ucyA9IG5ldyBVc2VyT3B0aW9ucygpO1xyXG4gICAgdGhpcy5jb25kaXRpb25zTGVuZ3RoID0gY29uZGl0aW9ucy5sZW5ndGg7XHJcblxyXG4gICAgaWYgKHVzZXJPcHRpb25zKSB7XHJcbiAgICAgIHRoaXMub3B0aW9ucyA9IHVzZXJPcHRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMudGltZW91dCA9IHRoaXMub3B0aW9ucy50aW1lb3V0XHJcbiAgICAgID8gbmV3IERhdGUodGhpcy5nZXROb3coKSArIHRoaXMub3B0aW9ucy50aW1lb3V0KS5nZXRUaW1lKClcclxuICAgICAgOiBudWxsO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29uZGl0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB0aGlzLnBvbGxGb3JDb25kaXRpb24oXHJcbiAgICAgICAgY29uZGl0aW9uc1tpXSxcclxuICAgICAgICB0aGlzLm9wdGlvbnMud2FpdCxcclxuICAgICAgICB0cnVlLFxyXG4gICAgICAgIHRoaXMub3B0aW9ucy5tdWx0aXBsaWVyXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZ2V0Tm93ID0gKCk6IG51bWJlciA9PiB7XHJcbiAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgfTtcclxuXHJcbiAgaXNUaW1lT3V0ID0gKCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgaWYgKHRoaXMudGltZW91dCAmJiB0aGlzLmdldE5vdygpID4gdGhpcy50aW1lb3V0KSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIGV2YWx1YXRlQ29uZGl0aW9uID0gKGNvbmRpdGlvbjogRnVuY3Rpb24gfCBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICAgIGlmICghY29uZGl0aW9uKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGNvbmRpdGlvbiA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgIHJldHVybiBjb25kaXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGNvbmRpdGlvbiA9PT0gXCJzdHJpbmdcIiAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbmRpdGlvbikpIHtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIGlzQWxsQ29uZGl0aW9uUGFzc2VkID0gKCk6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uc0xlbmd0aCA9PT0gdGhpcy5zdWNjZXNzZnVsQ29uZGl0aW9ucy5sZW5ndGg7XHJcbiAgfTtcclxuXHJcbiAgcG9sbEZvckNvbmRpdGlvbiA9IChcclxuICAgIGNvbmRpdGlvbjogRnVuY3Rpb24gfCBzdHJpbmcsXHJcbiAgICB3YWl0VGltZTogbnVtYmVyLFxyXG4gICAgc2tpcFdhaXQ6IGJvb2xlYW4sXHJcbiAgICBtdWx0aXBsaWVyOiBudW1iZXJcclxuICApOiBib29sZWFuID0+IHtcclxuICAgIGlmICh0aGlzLnRpbWVvdXQgJiYgdGhpcy5pc1RpbWVPdXQoKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5ldmFsdWF0ZUNvbmRpdGlvbihjb25kaXRpb24pO1xyXG5cclxuICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgdGhpcy5zdWNjZXNzZnVsQ29uZGl0aW9ucy5wdXNoKHJlc3VsdCk7XHJcblxyXG4gICAgICBpZiAodGhpcy5pc0FsbENvbmRpdGlvblBhc3NlZCgpKSB7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayh0aGlzLnN1Y2Nlc3NmdWxDb25kaXRpb25zKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0VGltZW91dChcclxuICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICB0aGlzLnBvbGxGb3JDb25kaXRpb24oXHJcbiAgICAgICAgICAgIGNvbmRpdGlvbixcclxuICAgICAgICAgICAgd2FpdFRpbWUgKiBtdWx0aXBsaWVyLFxyXG4gICAgICAgICAgICBza2lwV2FpdCxcclxuICAgICAgICAgICAgbXVsdGlwbGllclxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNraXBXYWl0ID8gMCA6IHdhaXRUaW1lXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgVXNlck9wdGlvbnMge1xyXG4gIHdhaXQ6IG51bWJlciA9IDUwO1xyXG4gIG11bHRpcGxpZXI6IG51bWJlciA9IDEuMTtcclxuICB0aW1lb3V0OiBudW1iZXIgPSAwO1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJpbXBvcnQgeyBQb2xsZXIgfSBmcm9tIFwiLi4vLi4vLi4vLi4vdXRpbGl0aWVzL3BvbGxlclwiO1xyXG5pbXBvcnQgeyBNYWluQ29tcG9uZW50IH0gZnJvbSBcIi4vY29tcG9uZW50cy9tYWluLmNvbXBvbmVudFwiO1xyXG5cclxuY29uc3QgaWVDaGVja3MgPSAvTVNJRXxUcmlkZW50fEVkZ2VcXC8oMTJ8MTN8MTR8MTV8MTZ8MTd8MTgpLy50ZXN0KFxyXG4gIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50XHJcbik7XHJcblxyXG5pZiAoIWllQ2hlY2tzKSB7XHJcbiAgY29uc3QgbWFpbiA9IG5ldyBNYWluQ29tcG9uZW50KCk7XHJcbiAgY29uc3QgcG9sbGVyID0gbmV3IFBvbGxlcigpO1xyXG4gIHBvbGxlci5wb2xsKFtcImJvZHlcIl0sIG1haW4uaW5pdCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInNlbGVjdG9ycyIsIm1vZGFsQ2xvc2VCdXR0b24iLCJtb2RhbCIsInNob3BwaW5nUGFnZUNvbnRhaW5lciIsImFkZERldmljZSIsInlvdXJEZXZpY2UiLCJhZGREZXZpY2VEaXJlY3QiLCJ5b3VyRGV2aWNlRGlyZWN0Iiwic2hvcHBpbmdCYXIiLCJtb2RhbFN0YXR1c0tleSIsIm1vYmlsZU1heFdpZHRoIiwicGFnZURhdGEiLCJzaG9wcGluZ1BhZ2UiLCJ0YXJnZXRDbGFzc05hbWUiLCJtb2RhbEFkZEFEZXZpY2VNYm94TmFtZSIsIm1vZGFsQnJpbmdZb3VyRGV2aWNlTWJveE5hbWUiLCJwcmVSZXZpZXdPcmRlclRhcmdldENsYXNzTmFtZSIsInByZVJldmlld09yZGVyU2libGluZ0NsYXNzTmFtZSIsInBvc3RSZXZpZXdPcmRlcklkIiwicG9zdFJldmlld09yZGVyQXR0cmlidXRlIiwic2VsZWN0b3IiLCJtYm94TmFtZSIsInBhdGhOYW1lIiwiY29uZmlndXJlUGFnZSIsInNpYmxpbmdDbGFzc05hbWUiLCJvdmVydmlld1BhZ2UiLCJUZXN0SW5mbyIsIk1haW5Db21wb25lbnQiLCJpc1Jldmlld09yZGVyRXZlbnRBZGRlZCIsInRyYWNrRXZlbnQiLCJjb25zb2xlIiwibG9nIiwiYWRvYmUiLCJ0YXJnZXQiLCJtYm94IiwiYWRkTGlzdGVuZXIiLCJwYWdlIiwiY3RhIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRpc2FibGVkQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwiaXNDb250YWluRGlzYWJsZWRDbGFzcyIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiaW5pdCIsIlRlc3RPYnNlcnZlciIsIm9ic2VydmUiLCJtdXRhdGlvbkxpc3QiLCJpbmRleCIsImxlbmd0aCIsIm11dGF0aW9uUmVjb3JkIiwicHJldmlvdXNTaWJsaW5nIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwiVkFSSUFUSU9OIiwidG9TdHJpbmciLCJNb2RhbENvbXBvbmVudCIsInJlbmRlciIsImlkIiwiYXR0cmlidXRlTmFtZSIsImluZGV4T2YiLCJJbml0aWFsaXplciIsInNldEl0ZW0iLCJnZXRIdG1sIiwidHJpbSIsImJvZHkiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJyZW1vdmVJdGVtIiwicmVtb3ZlIiwiY2xpY2siLCJ0YXJnZXROb2RlIiwiY29uZmlnIiwiY2FsbEJhY2siLCJNdXRhdGlvbk9ic2VydmVyIiwidGhpcyIsImF0dHJpYnV0ZXMiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiY2hhcmFjdGVyRGF0YSIsInRlc3RJbmZvIiwidmVyc2lvbiIsImRvY3VtZW50RWxlbWVudCIsImFkZCIsIklEIiwiaW5mbyIsIlBvbGxlciIsIm9wdGlvbnMiLCJ0aW1lb3V0Iiwic3VjY2Vzc2Z1bENvbmRpdGlvbnMiLCJjYWxsYmFjayIsImNvbmRpdGlvbnNMZW5ndGgiLCJwb2xsIiwiY29uZGl0aW9ucyIsInVzZXJPcHRpb25zIiwiVXNlck9wdGlvbnMiLCJEYXRlIiwiZ2V0Tm93IiwiZ2V0VGltZSIsImkiLCJwb2xsRm9yQ29uZGl0aW9uIiwid2FpdCIsIm11bHRpcGxpZXIiLCJpc1RpbWVPdXQiLCJldmFsdWF0ZUNvbmRpdGlvbiIsImNvbmRpdGlvbiIsImlzQWxsQ29uZGl0aW9uUGFzc2VkIiwid2FpdFRpbWUiLCJza2lwV2FpdCIsInJlc3VsdCIsInB1c2giLCJzZXRUaW1lb3V0IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwibWFpbiJdLCJzb3VyY2VSb290IjoiIn0=