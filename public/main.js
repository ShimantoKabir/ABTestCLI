(()=>{"use strict";var e={906:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.selectors=void 0,o.selectors={shoppingPageContainer:"div#shopping-page-container",promoSection:"div.grid-item-container.promo"}},643:(e,o)=>{var t;Object.defineProperty(o,"__esModule",{value:!0}),o.TestInfo=void 0,(t=o.TestInfo||(o.TestInfo={})).ID="CC010",t.SITE="consumercellular",t.TITLE="Replace the promotion image on the choose device page",t.CLIENT="brainlab",t.TARGET="https://www.consumercellular.com/shopping/choose/device",t.VARIATION="all"},286:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.MainComponent=void 0;var n=t(951),i=t(906),s=t(643),r=t(341),a=t(59);o.MainComponent=function(){var e=this;this.location="",this.newPromoClassName="new-promo",this.manageNewCssClassToPormo=function(o){var t=document.querySelector(i.selectors.promoSection);o&&t&&t.classList.add(e.newPromoClassName),!o&&t&&t.classList.remove(e.newPromoClassName)},this.init=function(){"/shopping/choose/device"===window.location.pathname&&e.manageNewCssClassToPormo(!0),r.LocationObserver.listen((function(o){e.location=o})),new a.TestObserver(i.selectors.shoppingPageContainer).observe((function(o){"/shopping/choose/device"===e.location?e.manageNewCssClassToPormo(!0):e.manageNewCssClassToPormo(!1)}))},n.Initializer.init(s.TestInfo,"0.0.1")}},341:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.LocationObserver=void 0;var n=t(59),i=function(){function e(){}var o;return o=e,e.previousPathname="",e.listen=function(e){new n.TestObserver("body").observe((function(t){location.pathname!==o.previousPathname&&(o.previousPathname=location.pathname,e(location.pathname))}))},e}();o.LocationObserver=i},59:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.TestObserver=void 0;o.TestObserver=function(e){var o=this;this.targetNode=null,this.config={},this.observe=function(e){var t=new MutationObserver(e);return t.observe(o.targetNode,o.config),t},this.targetNode=document.querySelector(e),this.config={childList:!0,subtree:!0,characterData:!0}}},951:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Initializer=void 0;var t=function(){function e(){}return e.init=function(e,o){document.documentElement.classList.add(e.ID),document.documentElement.classList.add("".concat(e.ID,"-").concat(e.VARIATION)),console.info("ID: ".concat(e.ID,", VARIATION: ").concat(e.VARIATION,", VERSION: ").concat(o," is running.....!"))},e}();o.Initializer=t},454:(e,o,t)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.Poller=void 0;var n=t(704);o.Poller=function(){var e=this;this.options=null,this.timeout=null,this.successfulConditions=[],this.callback=function(){},this.conditionsLength=0,this.poll=function(o,t,i){e.callback=t,e.options=new n.UserOptions,e.conditionsLength=o.length,i&&(e.options=i),e.timeout=e.options.timeout?new Date(e.getNow()+e.options.timeout).getTime():null;for(var s=0;s<o.length;s++)e.pollForCondition(o[s],e.options.wait,!0,e.options.multiplier)},this.getNow=function(){return(new Date).getTime()},this.isTimeOut=function(){return!!(e.timeout&&e.getNow()>e.timeout)},this.evaluateCondition=function(e){return!!e&&("function"==typeof e?e():!("string"!=typeof e||!document.querySelector(e)))},this.isAllConditionPassed=function(){return e.conditionsLength===e.successfulConditions.length},this.pollForCondition=function(o,t,n,i){if(e.timeout&&e.isTimeOut())return!1;var s=e.evaluateCondition(o);return s?(e.successfulConditions.push(s),e.isAllConditionPassed()&&e.callback(e.successfulConditions)):setTimeout((function(){e.pollForCondition(o,t*i,n,i)}),n?0:t),!0}}},704:(e,o)=>{Object.defineProperty(o,"__esModule",{value:!0}),o.UserOptions=void 0;o.UserOptions=function(){this.wait=50,this.multiplier=1.1,this.timeout=0}}},o={};function t(n){var i=o[n];if(void 0!==i)return i.exports;var s=o[n]={exports:{}};return e[n](s,s.exports,t),s.exports}(()=>{var e=t(454),o=t(286);if(!/MSIE|Trident|Edge\/(12|13|14|15|16|17|18)/.test(window.navigator.userAgent)){var n=new o.MainComponent;(new e.Poller).poll(["body"],n.init)}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNKLEdBRy9DSyxFQUFPRCxPQUNmLEMsTUN0QkEsYUFDQSxTQU1BLElBSmlCLDRDQUE0Q0csS0FDM0Q1RCxPQUFPNkQsVUFBVUMsV0FHSixDQUNiLElBQU1DLEVBQU8sSUFBSSxFQUFBMUUsZUFDRixJQUFJLEVBQUFxQyxRQUNaSyxLQUFLLENBQUMsUUFBU2dDLEVBQUtoRSxLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvY2xpZW50cy9icmFpbmxhYi9jb25zdW1lcmNlbGx1bGFyL0NDMDEwL2NvbW1vbi9hc3NldC50cyIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS8uL3NyYy9jbGllbnRzL2JyYWlubGFiL2NvbnN1bWVyY2VsbHVsYXIvQ0MwMTAvY29tbW9uL3Rlc3QuaW5mby50cyIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS8uL3NyYy9jbGllbnRzL2JyYWlubGFiL2NvbnN1bWVyY2VsbHVsYXIvQ0MwMTAvY29tcG9uZW50cy9tYWluLmNvbXBvbmVudC50cyIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS8uL3NyYy9jbGllbnRzL2JyYWlubGFiL2NvbnN1bWVyY2VsbHVsYXIvQ0MwMTAvb2JzZXJ2ZXIvbG9jYXRpb24ub2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvY2xpZW50cy9icmFpbmxhYi9jb25zdW1lcmNlbGx1bGFyL0NDMDEwL29ic2VydmVyL3Rlc3Qub2JzZXJ2ZXIudHMiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvdXRpbGl0aWVzL2luaXRpYWxpemVyLnRzIiwid2VicGFjazovL2FiLXRlc3QtdHMtY2xpLy4vc3JjL3V0aWxpdGllcy9wb2xsZXIudHMiLCJ3ZWJwYWNrOi8vYWItdGVzdC10cy1jbGkvLi9zcmMvdXRpbGl0aWVzL3VzZXIub3B0aW9ucy50cyIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hYi10ZXN0LXRzLWNsaS8uL3NyYy9jbGllbnRzL2JyYWlubGFiL2NvbnN1bWVyY2VsbHVsYXIvQ0MwMTAvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNlbGVjdG9ycyA9IHtcclxuICBzaG9wcGluZ1BhZ2VDb250YWluZXI6IFwiZGl2I3Nob3BwaW5nLXBhZ2UtY29udGFpbmVyXCIsXHJcbiAgcHJvbW9TZWN0aW9uOiBcImRpdi5ncmlkLWl0ZW0tY29udGFpbmVyLnByb21vXCIsXHJcbn07XHJcbiIsImV4cG9ydCBlbnVtIFRlc3RJbmZvIHtJRCA9ICdDQzAxMCcsIFNJVEUgPSAnY29uc3VtZXJjZWxsdWxhcicsIFRJVExFID0gJ1JlcGxhY2UgdGhlIHByb21vdGlvbiBpbWFnZSBvbiB0aGUgY2hvb3NlIGRldmljZSBwYWdlJywgQ0xJRU5UID0gJ2JyYWlubGFiJywgVEFSR0VUID0gJ2h0dHBzOi8vd3d3LmNvbnN1bWVyY2VsbHVsYXIuY29tL3Nob3BwaW5nL2Nob29zZS9kZXZpY2UnLCBWQVJJQVRJT04gPSAnYWxsJ30iLCJpbXBvcnQgeyBJbml0aWFsaXplciB9IGZyb20gXCIuLi8uLi8uLi8uLi8uLi91dGlsaXRpZXMvaW5pdGlhbGl6ZXJcIjtcclxuaW1wb3J0IHsgc2VsZWN0b3JzIH0gZnJvbSBcIi4uL2NvbW1vbi9hc3NldFwiO1xyXG5pbXBvcnQgeyBUZXN0SW5mbyB9IGZyb20gXCIuLi9jb21tb24vdGVzdC5pbmZvXCI7XHJcbmltcG9ydCB7IExvY2F0aW9uT2JzZXJ2ZXIgfSBmcm9tIFwiLi4vb2JzZXJ2ZXIvbG9jYXRpb24ub2JzZXJ2ZXJcIjtcclxuaW1wb3J0IHsgVGVzdE9ic2VydmVyIH0gZnJvbSBcIi4uL29ic2VydmVyL3Rlc3Qub2JzZXJ2ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYWluQ29tcG9uZW50IHtcclxuICBsb2NhdGlvbjogc3RyaW5nID0gXCJcIjtcclxuICBuZXdQcm9tb0NsYXNzTmFtZTogc3RyaW5nID0gXCJuZXctcHJvbW9cIjtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBJbml0aWFsaXplci5pbml0KFRlc3RJbmZvLCBcIjAuMC4xXCIpO1xyXG4gIH1cclxuXHJcbiAgbWFuYWdlTmV3Q3NzQ2xhc3NUb1Bvcm1vID0gKG5lZWRUb0FkZDogYm9vbGVhbikgPT4ge1xyXG4gICAgY29uc3QgcHJvbW9TZWN0aW9uOiBFbGVtZW50IHwgbnVsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIHNlbGVjdG9ycy5wcm9tb1NlY3Rpb25cclxuICAgICk7XHJcblxyXG4gICAgbmVlZFRvQWRkICYmXHJcbiAgICAgIHByb21vU2VjdGlvbiAmJlxyXG4gICAgICBwcm9tb1NlY3Rpb24uY2xhc3NMaXN0LmFkZCh0aGlzLm5ld1Byb21vQ2xhc3NOYW1lKTtcclxuXHJcbiAgICAhbmVlZFRvQWRkICYmXHJcbiAgICAgIHByb21vU2VjdGlvbiAmJlxyXG4gICAgICBwcm9tb1NlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLm5ld1Byb21vQ2xhc3NOYW1lKTtcclxuICB9O1xyXG5cclxuICBpbml0ID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvc2hvcHBpbmcvY2hvb3NlL2RldmljZVwiKSB7XHJcbiAgICAgIHRoaXMubWFuYWdlTmV3Q3NzQ2xhc3NUb1Bvcm1vKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIExvY2F0aW9uT2JzZXJ2ZXIubGlzdGVuKChsb2NhdGlvbjogc3RyaW5nKSA9PiB7XHJcbiAgICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHRlc3RPYnNlcnZlciA9IG5ldyBUZXN0T2JzZXJ2ZXIoc2VsZWN0b3JzLnNob3BwaW5nUGFnZUNvbnRhaW5lcik7XHJcbiAgICBjb25zdCBjYWxsYmFjayA9IChtdXRhdGlvbkxpc3Q6IE11dGF0aW9uUmVjb3JkW10pID0+IHtcclxuICAgICAgaWYgKHRoaXMubG9jYXRpb24gPT09IFwiL3Nob3BwaW5nL2Nob29zZS9kZXZpY2VcIikge1xyXG4gICAgICAgIHRoaXMubWFuYWdlTmV3Q3NzQ2xhc3NUb1Bvcm1vKHRydWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMubWFuYWdlTmV3Q3NzQ2xhc3NUb1Bvcm1vKGZhbHNlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRlc3RPYnNlcnZlci5vYnNlcnZlKGNhbGxiYWNrKTtcclxuICB9O1xyXG59XHJcbiIsImltcG9ydCB7IFRlc3RPYnNlcnZlciB9IGZyb20gXCIuL3Rlc3Qub2JzZXJ2ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2NhdGlvbk9ic2VydmVyIHtcclxuICBzdGF0aWMgcHJldmlvdXNQYXRobmFtZTogc3RyaW5nID0gXCJcIjtcclxuXHJcbiAgc3RhdGljIGxpc3RlbiA9IChjYWxsYmFjazogRnVuY3Rpb24pID0+IHtcclxuICAgIGNvbnN0IHRlc3RPYnNlcnZlciA9IG5ldyBUZXN0T2JzZXJ2ZXIoXCJib2R5XCIpO1xyXG5cclxuICAgIGNvbnN0IG11dGF0aW9uQ2FsbGJhY2sgPSAobXV0YXRpb25MaXN0OiBNdXRhdGlvblJlY29yZFtdKSA9PiB7XHJcbiAgICAgIGlmIChsb2NhdGlvbi5wYXRobmFtZSAhPT0gdGhpcy5wcmV2aW91c1BhdGhuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c1BhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICAgICAgY2FsbGJhY2sobG9jYXRpb24ucGF0aG5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRlc3RPYnNlcnZlci5vYnNlcnZlKG11dGF0aW9uQ2FsbGJhY2spO1xyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFRlc3RPYnNlcnZlciB7XHJcbiAgcHJpdmF0ZSB0YXJnZXROb2RlOiBFbGVtZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBjb25maWcgPSB7fTtcclxuXHJcbiAgY29uc3RydWN0b3IodGFyZ2V0Tm9kZTogc3RyaW5nKSB7XHJcbiAgICB0aGlzLnRhcmdldE5vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldE5vZGUpO1xyXG4gICAgdGhpcy5jb25maWcgPSB7XHJcbiAgICAgIGNoaWxkTGlzdDogdHJ1ZSxcclxuICAgICAgc3VidHJlZTogdHJ1ZSxcclxuICAgICAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBvYnNlcnZlID0gKGNhbGxCYWNrOiBNdXRhdGlvbkNhbGxiYWNrKTogTXV0YXRpb25PYnNlcnZlciA9PiB7XHJcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGNhbGxCYWNrKTtcclxuICAgIG9ic2VydmVyLm9ic2VydmUodGhpcy50YXJnZXROb2RlIGFzIEVsZW1lbnQsIHRoaXMuY29uZmlnKTtcclxuICAgIHJldHVybiBvYnNlcnZlcjtcclxuICB9O1xyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBJbml0aWFsaXplciB7XHJcbiAgc3RhdGljIGluaXQgPSAoXHJcbiAgICB0ZXN0SW5mbzoge1xyXG4gICAgICBJRDogc3RyaW5nO1xyXG4gICAgICBTSVRFOiBzdHJpbmc7XHJcbiAgICAgIENMSUVOVDogc3RyaW5nO1xyXG4gICAgICBWQVJJQVRJT046IHN0cmluZztcclxuICAgIH0sXHJcbiAgICB2ZXJzaW9uOiBzdHJpbmdcclxuICApOiB2b2lkID0+IHtcclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRlc3RJbmZvLklEKTtcclxuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICBgJHt0ZXN0SW5mby5JRH0tJHt0ZXN0SW5mby5WQVJJQVRJT059YFxyXG4gICAgKTtcclxuICAgIGNvbnNvbGUuaW5mbyhcclxuICAgICAgYElEOiAke3Rlc3RJbmZvLklEfSwgVkFSSUFUSU9OOiAke3Rlc3RJbmZvLlZBUklBVElPTn0sIFZFUlNJT046ICR7dmVyc2lvbn0gaXMgcnVubmluZy4uLi4uIWBcclxuICAgICk7XHJcbiAgfTtcclxufVxyXG4iLCJpbXBvcnQgeyBVc2VyT3B0aW9ucyB9IGZyb20gXCIuL3VzZXIub3B0aW9uc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvbGxlciB7XHJcbiAgcHJpdmF0ZSBvcHRpb25zOiBVc2VyT3B0aW9ucyB8IG51bGwgPSBudWxsO1xyXG4gIHByaXZhdGUgdGltZW91dDogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcbiAgcHJpdmF0ZSBzdWNjZXNzZnVsQ29uZGl0aW9uczogYm9vbGVhbltdID0gW107XHJcbiAgcHJpdmF0ZSBjYWxsYmFjazogRnVuY3Rpb24gPSAoKSA9PiB7fTtcclxuICBwcml2YXRlIGNvbmRpdGlvbnNMZW5ndGg6IG51bWJlciA9IDA7XHJcblxyXG4gIHBvbGwgPSAoXHJcbiAgICBjb25kaXRpb25zOiAoRnVuY3Rpb24gfCBzdHJpbmcpW10sXHJcbiAgICBjYWxsYmFjazogRnVuY3Rpb24sXHJcbiAgICB1c2VyT3B0aW9ucz86IFVzZXJPcHRpb25zXHJcbiAgKSA9PiB7XHJcbiAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB0aGlzLm9wdGlvbnMgPSBuZXcgVXNlck9wdGlvbnMoKTtcclxuICAgIHRoaXMuY29uZGl0aW9uc0xlbmd0aCA9IGNvbmRpdGlvbnMubGVuZ3RoO1xyXG5cclxuICAgIGlmICh1c2VyT3B0aW9ucykge1xyXG4gICAgICB0aGlzLm9wdGlvbnMgPSB1c2VyT3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnRpbWVvdXQgPSB0aGlzLm9wdGlvbnMudGltZW91dFxyXG4gICAgICA/IG5ldyBEYXRlKHRoaXMuZ2V0Tm93KCkgKyB0aGlzLm9wdGlvbnMudGltZW91dCkuZ2V0VGltZSgpXHJcbiAgICAgIDogbnVsbDtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbmRpdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdGhpcy5wb2xsRm9yQ29uZGl0aW9uKFxyXG4gICAgICAgIGNvbmRpdGlvbnNbaV0sXHJcbiAgICAgICAgdGhpcy5vcHRpb25zLndhaXQsXHJcbiAgICAgICAgdHJ1ZSxcclxuICAgICAgICB0aGlzLm9wdGlvbnMubXVsdGlwbGllclxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGdldE5vdyA9ICgpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gIH07XHJcblxyXG4gIGlzVGltZU91dCA9ICgpOiBib29sZWFuID0+IHtcclxuICAgIGlmICh0aGlzLnRpbWVvdXQgJiYgdGhpcy5nZXROb3coKSA+IHRoaXMudGltZW91dCkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9O1xyXG5cclxuICBldmFsdWF0ZUNvbmRpdGlvbiA9IChjb25kaXRpb246IEZ1bmN0aW9uIHwgc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgICBpZiAoIWNvbmRpdGlvbikge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjb25kaXRpb24gPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICByZXR1cm4gY29uZGl0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGVvZiBjb25kaXRpb24gPT09IFwic3RyaW5nXCIgJiYgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb25kaXRpb24pKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9O1xyXG5cclxuICBpc0FsbENvbmRpdGlvblBhc3NlZCA9ICgpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiB0aGlzLmNvbmRpdGlvbnNMZW5ndGggPT09IHRoaXMuc3VjY2Vzc2Z1bENvbmRpdGlvbnMubGVuZ3RoO1xyXG4gIH07XHJcblxyXG4gIHBvbGxGb3JDb25kaXRpb24gPSAoXHJcbiAgICBjb25kaXRpb246IEZ1bmN0aW9uIHwgc3RyaW5nLFxyXG4gICAgd2FpdFRpbWU6IG51bWJlcixcclxuICAgIHNraXBXYWl0OiBib29sZWFuLFxyXG4gICAgbXVsdGlwbGllcjogbnVtYmVyXHJcbiAgKTogYm9vbGVhbiA9PiB7XHJcbiAgICBpZiAodGhpcy50aW1lb3V0ICYmIHRoaXMuaXNUaW1lT3V0KCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZXZhbHVhdGVDb25kaXRpb24oY29uZGl0aW9uKTtcclxuXHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgIHRoaXMuc3VjY2Vzc2Z1bENvbmRpdGlvbnMucHVzaChyZXN1bHQpO1xyXG5cclxuICAgICAgaWYgKHRoaXMuaXNBbGxDb25kaXRpb25QYXNzZWQoKSkge1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sodGhpcy5zdWNjZXNzZnVsQ29uZGl0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHNldFRpbWVvdXQoXHJcbiAgICAgICAgKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wb2xsRm9yQ29uZGl0aW9uKFxyXG4gICAgICAgICAgICBjb25kaXRpb24sXHJcbiAgICAgICAgICAgIHdhaXRUaW1lICogbXVsdGlwbGllcixcclxuICAgICAgICAgICAgc2tpcFdhaXQsXHJcbiAgICAgICAgICAgIG11bHRpcGxpZXJcclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBza2lwV2FpdCA/IDAgOiB3YWl0VGltZVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFVzZXJPcHRpb25zIHtcclxuICB3YWl0OiBudW1iZXIgPSA1MDtcclxuICBtdWx0aXBsaWVyOiBudW1iZXIgPSAxLjE7XHJcbiAgdGltZW91dDogbnVtYmVyID0gMDtcclxufVxyXG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiaW1wb3J0IHsgUG9sbGVyIH0gZnJvbSBcIi4uLy4uLy4uLy4uL3V0aWxpdGllcy9wb2xsZXJcIjtcclxuaW1wb3J0IHsgTWFpbkNvbXBvbmVudCB9IGZyb20gXCIuL2NvbXBvbmVudHMvbWFpbi5jb21wb25lbnRcIjtcclxuXHJcbmNvbnN0IGllQ2hlY2tzID0gL01TSUV8VHJpZGVudHxFZGdlXFwvKDEyfDEzfDE0fDE1fDE2fDE3fDE4KS8udGVzdChcclxuICB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudFxyXG4pO1xyXG5cclxuaWYgKCFpZUNoZWNrcykge1xyXG4gIGNvbnN0IG1haW4gPSBuZXcgTWFpbkNvbXBvbmVudCgpO1xyXG4gIGNvbnN0IHBvbGxlciA9IG5ldyBQb2xsZXIoKTtcclxuICBwb2xsZXIucG9sbChbXCJib2R5XCJdLCBtYWluLmluaXQpO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJzZWxlY3RvcnMiLCJzaG9wcGluZ1BhZ2VDb250YWluZXIiLCJwcm9tb1NlY3Rpb24iLCJUZXN0SW5mbyIsIk1haW5Db21wb25lbnQiLCJsb2NhdGlvbiIsIm5ld1Byb21vQ2xhc3NOYW1lIiwibWFuYWdlTmV3Q3NzQ2xhc3NUb1Bvcm1vIiwibmVlZFRvQWRkIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiaW5pdCIsIndpbmRvdyIsInBhdGhuYW1lIiwiTG9jYXRpb25PYnNlcnZlciIsImxpc3RlbiIsIlRlc3RPYnNlcnZlciIsIm9ic2VydmUiLCJtdXRhdGlvbkxpc3QiLCJJbml0aWFsaXplciIsInByZXZpb3VzUGF0aG5hbWUiLCJjYWxsYmFjayIsInRhcmdldE5vZGUiLCJjb25maWciLCJjYWxsQmFjayIsIm9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsInRoaXMiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwiY2hhcmFjdGVyRGF0YSIsInRlc3RJbmZvIiwidmVyc2lvbiIsImRvY3VtZW50RWxlbWVudCIsIklEIiwiVkFSSUFUSU9OIiwiY29uc29sZSIsImluZm8iLCJQb2xsZXIiLCJvcHRpb25zIiwidGltZW91dCIsInN1Y2Nlc3NmdWxDb25kaXRpb25zIiwiY29uZGl0aW9uc0xlbmd0aCIsInBvbGwiLCJjb25kaXRpb25zIiwidXNlck9wdGlvbnMiLCJVc2VyT3B0aW9ucyIsImxlbmd0aCIsIkRhdGUiLCJnZXROb3ciLCJnZXRUaW1lIiwiaSIsInBvbGxGb3JDb25kaXRpb24iLCJ3YWl0IiwibXVsdGlwbGllciIsImlzVGltZU91dCIsImV2YWx1YXRlQ29uZGl0aW9uIiwiY29uZGl0aW9uIiwiaXNBbGxDb25kaXRpb25QYXNzZWQiLCJ3YWl0VGltZSIsInNraXBXYWl0IiwicmVzdWx0IiwicHVzaCIsInNldFRpbWVvdXQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYWluIl0sInNvdXJjZVJvb3QiOiIifQ==